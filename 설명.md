# ez_blockchain

**ez_blockchain**은 블록체인 기술을 처음 접하는 초보자들을 위해 만들어진 간단한 블록체인 구현 예제 프로젝트입니다.

## 특징

- **학습용**: 블록체인의 기본 원리와 구조를 쉽게 이해할 수 있도록 설계되었습니다.
- **간단한 구조**: 복잡한 기능 없이, 블록체인의 핵심 개념에 집중합니다.
- **실습 중심**: 직접 코드를 실행하고 수정해보며 블록체인을 체험할 수 있습니다.

## 시작하기

1. 코드를 다운로드하거나 클론합니다.
2. `blockchain.py`와 `server.py` 파일을 참고하여 블록체인의 동작 원리를 익혀보세요.

## 목적

- 블록체인의 기본 개념(블록, 체인, 트랜잭션 등)을 직접 구현하며 학습할 수 있습니다.
- 실습을 통해 블록체인 기술에 대한 이해도를 높일 수 있습니다.

---
# server.py  
## 코드 설명  
server.py 파일은 Flask 웹 프레임워크를 사용하여 블록체인 네트워크의 REST API 서버를 구현한 코드입니다.  
주요 기능과 각 엔드포인트의 역할을 아래와 같이 설명할 수 있습니다.  
### 전체 구조  
Flask를 이용해 웹 서버를 실행합니다.  
blockchain.py에서 정의한 Blockchain 클래스를 사용하여 블록체인 객체를 생성하고, 이를 통해 블록체인 관련 기능을 제공합니다.  
각종 HTTP 요청을 받아 블록체인 조작, 트랜잭션 추가, 블록 채굴, 네트워크 노드 관리, 합의(Consensus) 등을 처리합니다.  
### 주요 변수  
app: Flask 애플리케이션 인스턴스  
node_identifier: 이 서버의 고유 식별자(UUID)  
blockchain: 블록체인 인스턴스  

## 엔드포인트 설명  
### 1. /mine (GET)  
새로운 블록을 채굴(mining)하는 엔드포인트입니다.  
Proof of Work를 수행하여 새로운 블록을 생성하고, 채굴 보상(coinbase transaction)으로 1 코인을 지급합니다.  
새로 생성된 블록의 정보를 반환합니다.  
### 2. /transactions/new (POST)  
새로운 트랜잭션을 블록체인에 추가하는 엔드포인트입니다.  
요청 본문에 sender, recipient, amount가 포함되어야 하며, 트랜잭션이 추가될 블록의 인덱스를 반환합니다.  
### 3. /chain (GET)  
전체 블록체인(블록 리스트)과 길이 정보를 반환합니다.  
### 4. /nodes/register (POST)  
네트워크에 새로운 노드(서버)를 등록하는 엔드포인트입니다.  
요청 본문에 nodes(URL 리스트)가 포함되어야 하며, 등록된 전체 노드 목록을 반환합니다.  
### 5. /nodes/resolve (GET)  
합의 알고리즘(Consensus Algorithm)을 실행하여, 네트워크 내에서 가장 긴 유효한 체인으로 자신의 체인을 교체할지 결정합니다.  
체인이 교체되었는지 여부와 현재 체인 정보를 반환합니다.  

## 실행 방법  
python server.py로 실행하면, 0.0.0.0:5000에서 서버가 시작됩니다.  

##  요약
이 서버는 블록체인 네트워크의 한 노드로서, 블록 생성, 트랜잭션 추가, 체인 조회, 노드 등록, 합의 알고리즘 실행 등 블록체인 네트워크의 기본 기능을 REST API로 제공합니다.  

# blockchain.py  
blockchain.py 파일은 블록체인의 핵심 로직을 담고 있는 클래스(Blockchain)를 구현합니다. 주요 기능과 각 메서드의 역할을 아래와 같이 설명할 수 있습니다.  

## 전체 구조  
Blockchain 클래스: 블록체인, 트랜잭션, 노드, 합의 알고리즘 등 블록체인의 기본 요소와 동작을 구현합니다.  

## 주요 속성  
chain: 블록(딕셔너리)의 리스트로, 실제 블록체인 데이터입니다.  
current_transaction: 아직 블록에 포함되지 않은 트랜잭션 목록입니다.  
nodes: 네트워크에 참여하는 노드(서버)들의 주소 집합입니다.  

## 주요 메서드 설명  
### 1. __init__  
블록체인, 트랜잭션, 노드 집합을 초기화합니다.  
최초의 제네시스 블록을 생성합니다.  
### 2. new_block(proof, previous_hash=None)  
새로운 블록을 생성하여 체인에 추가합니다.  
블록에는 인덱스, 타임스탬프, 트랜잭션, proof, 이전 블록의 해시가 포함됩니다.  
트랜잭션 목록을 초기화합니다.  
### 3. new_transaction(sender, recipient, amount)  
새로운 트랜잭션을 현재 트랜잭션 목록에 추가합니다.  
다음에 채굴될 블록의 인덱스를 반환합니다.  
### 4. register_node(address)  
네트워크에 새로운 노드(서버)를 추가합니다.  
### 5. valid_chain(chain)  
주어진 체인이 유효한지(블록의 연결이 올바른지) 검증합니다.  
### 6. resolve_conflicts()  
네트워크의 다른 노드들과 체인을 비교하여, 더 길고 유효한 체인이 있으면 자신의 체인을 교체합니다(합의 알고리즘).  
### 7. hash(block) (정적 메서드)  
블록을 SHA-256 해시로 변환합니다.  
### 8. last_block (프로퍼티)  
체인의 마지막 블록을 반환합니다.  
### 9. pow(last_proof)  
작업증명(Proof of Work) 알고리즘을 수행하여 새로운 proof 값을 찾습니다.  
### 10. valid_proof(last_proof, proof) (정적 메서드)  
주어진 proof가 유효한지(해시값이 0000으로 시작하는지) 검증합니다.  

## 요약  
이 파일은 블록체인의 생성, 트랜잭션 관리, 블록 추가, 네트워크 노드 관리, 합의 알고리즘, 작업증명 등 블록체인의 핵심 기능을 모두 포함하고 있습니다.  
server.py에서 이 클래스를 사용하여 REST API를 통해 블록체인 네트워크를 운영할 수 있습니다.  
